<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÏßëÍ∞í Î™ª ÏÇ∞ Ï£Ñ Í≥ÑÏÇ∞Í∏∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            text-align: center;
            font-size: 28px;
            margin-bottom: 10px;
            color: #2d3748;
        }

        .subtitle {
            text-align: center;
            color: #718096;
            font-size: 14px;
            margin-bottom: 30px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #4a5568;
            font-size: 14px;
        }

        select, input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s;
        }

        select:focus, input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .calculate-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            margin-top: 10px;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .calculate-btn:active {
            transform: translateY(0);
        }

        .result {
            display: none;
            margin-top: 30px;
            padding: 25px;
            background: #f7fafc;
            border-radius: 15px;
            border-left: 5px solid #667eea;
        }

        .result.show {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .result-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 20px;
            color: #2d3748;
        }

        .price-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .price-item:last-child {
            border-bottom: none;
        }

        .price-label {
            color: #718096;
            font-size: 15px;
        }

        .price-value {
            font-weight: 700;
            font-size: 18px;
            color: #2d3748;
        }

        .loss-amount {
            margin-top: 20px;
            padding: 20px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            border-radius: 12px;
            text-align: center;
        }

        .loss-label {
            color: white;
            font-size: 14px;
            margin-bottom: 8px;
            opacity: 0.9;
        }

        .loss-value {
            color: white;
            font-size: 32px;
            font-weight: 900;
        }

        .bonus-analysis {
            margin-top: 25px;
            padding: 20px;
            background: #fff5f5;
            border-radius: 12px;
        }

        .bonus-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 15px;
            color: #c53030;
        }

        .bonus-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            font-size: 14px;
            color: #742a2a;
        }

        .share-buttons {
            display: flex;
            gap: 10px;
            margin-top: 25px;
        }

        .share-btn {
            flex: 1;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            background: white;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .share-btn:hover {
            background: #f7fafc;
            border-color: #667eea;
        }

        .share-btn.copy {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .share-btn.copy:hover {
            background: #5568d3;
        }

        .emoji {
            font-size: 24px;
            margin-right: 8px;
        }

        .ad-container {
            margin: 20px 0;
            text-align: center;
            min-height: 250px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @media (max-width: 480px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 24px;
            }

            .loss-value {
                font-size: 28px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üè† ÏßëÍ∞í Î™ª ÏÇ∞ Ï£Ñ Í≥ÑÏÇ∞Í∏∞</h1>
        <p class="subtitle">Í∑∏Îïå ÏßëÏùÑ ÏÉÄÎã§Î©¥... ÏßÄÍ∏à ÏñºÎßàÏòÄÏùÑÍπå?</p>

        <!-- Í¥ëÍ≥† ÏòÅÏó≠ 1: Ï†úÎ™© ÏïÑÎûò -->
        <div class="ad-container">
            <ins class="kakao_ad_area" style="display:none;"
                data-ad-unit = "DAN-KJJsjWOErdMwgRJi"
                data-ad-width = "300"
                data-ad-height = "250"></ins>
        </div>

        <div class="input-group">
            <label for="region">üìç ÏßÄÏó≠ ÏÑ†ÌÉù</label>
            <select id="region">
                <option value="">ÏßÄÏó≠ÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>
            </select>
        </div>

        <div class="input-group">
            <label for="year">üìÖ Í∏∞Ï§Ä Ïó∞ÎèÑ</label>
            <select id="year">
                <option value="">Ïó∞ÎèÑÎ•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>
            </select>
        </div>

        <div class="input-group">
            <label for="size">üìê ÌèâÏàò</label>
            <select id="size">
                <option value="">ÌèâÏàòÎ•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>
                <option value="20">20ÌèâÎåÄ</option>
                <option value="30">30ÌèâÎåÄ</option>
                <option value="40">40ÌèâÎåÄ</option>
            </select>
        </div>

        <button class="calculate-btn" onclick="calculate()">üí∞ Í≥ÑÏÇ∞ÌïòÍ∏∞</button>

        <!-- Í¥ëÍ≥† ÏòÅÏó≠ 2: Í≥ÑÏÇ∞ Î≤ÑÌäº ÏïÑÎûò -->
        <div class="ad-container">
            <ins class="kakao_ad_area" style="display:none;"
                data-ad-unit = "DAN-KJJsjWOErdMwgRJi"
                data-ad-width = "300"
                data-ad-height = "250"></ins>
        </div>

        <div id="result" class="result">
            <div class="result-title" id="resultTitle"></div>
            
            <div class="price-item">
                <span class="price-label">Í∏∞Ï§ÄÎÖÑÎèÑ ÎãπÏãú Í∞ÄÍ≤©</span>
                <span class="price-value" id="pastPrice"></span>
            </div>
            <div class="price-item">
                <span class="price-label">2024ÎÖÑ ÌòÑÏû¨ Í∞ÄÍ≤©</span>
                <span class="price-value" id="currentPrice"></span>
            </div>

            <div class="loss-amount">
                <div class="loss-label">ÎãπÏã†Ïù¥ Ïïà ÏÇ∞ ÎåÄÍ∞Ä</div>
                <div class="loss-value" id="lossAmount"></div>
            </div>

            <div class="bonus-analysis">
                <div class="bonus-title">ü§£ ÏßëÍ∞í ÎåÄÏã† ÏÇ∞ Í≤ÉÎì§</div>
                <div id="bonusItems"></div>
            </div>

            <div class="share-buttons">
                <button class="share-btn" onclick="copyLink()">üîó ÎßÅÌÅ¨ Î≥µÏÇ¨</button>
                <button class="share-btn" onclick="shareKakao()">üí¨ Ïπ¥ÌÜ° Í≥µÏú†</button>
                <button class="share-btn" onclick="downloadImage()">üì∏ Ïù¥ÎØ∏ÏßÄ Ï†ÄÏû•</button>
            </div>
        </div>

        <!-- Í¥ëÍ≥† ÏòÅÏó≠ 3: Í≤∞Í≥º ÏòÅÏó≠ ÏïÑÎûò -->
        <div class="ad-container">
            <ins class="kakao_ad_area" style="display:none;"
                data-ad-unit = "DAN-KJJsjWOErdMwgRJi"
                data-ad-width = "300"
                data-ad-height = "250"></ins>
        </div>
    </div>

    <script>
        // ÏßÄÏó≠Î≥Ñ ÏãúÏÑ∏ Îç∞Ïù¥ÌÑ∞ (Îã®ÏúÑ: Ïõê)
        const priceData = {
            "ÎßàÌè¨Íµ¨": {
                "20": { "2015": 450000000, "2020": 720000000, "2024": 890000000 },
                "30": { "2015": 620000000, "2020": 950000000, "2024": 1180000000 },
                "40": { "2015": 780000000, "2020": 1200000000, "2024": 1480000000 }
            },
            "ÏÜ°ÌååÍµ¨": {
                "20": { "2015": 520000000, "2020": 820000000, "2024": 1100000000 },
                "30": { "2015": 750000000, "2020": 1250000000, "2024": 1600000000 },
                "40": { "2015": 950000000, "2020": 1580000000, "2024": 2000000000 }
            },
            "Í∞ïÎÇ®Íµ¨": {
                "20": { "2015": 680000000, "2020": 1100000000, "2024": 1350000000 },
                "30": { "2015": 980000000, "2020": 1650000000, "2024": 2050000000 },
                "40": { "2015": 1280000000, "2020": 2200000000, "2024": 2750000000 }
            },
            "ÏÑúÏ¥àÍµ¨": {
                "20": { "2015": 650000000, "2020": 1050000000, "2024": 1300000000 },
                "30": { "2015": 920000000, "2020": 1550000000, "2024": 1950000000 },
                "40": { "2015": 1200000000, "2020": 2050000000, "2024": 2600000000 }
            },
            "Ïö©ÏÇ∞Íµ¨": {
                "20": { "2015": 480000000, "2020": 750000000, "2024": 920000000 },
                "30": { "2015": 680000000, "2020": 1050000000, "2024": 1280000000 },
                "40": { "2015": 850000000, "2020": 1350000000, "2024": 1650000000 }
            },
            "ÏÑ±ÎèôÍµ¨": {
                "20": { "2015": 420000000, "2020": 680000000, "2024": 850000000 },
                "30": { "2015": 580000000, "2020": 920000000, "2024": 1150000000 },
                "40": { "2015": 720000000, "2020": 1180000000, "2024": 1480000000 }
            },
            "Í¥ëÏßÑÍµ¨": {
                "20": { "2015": 380000000, "2020": 620000000, "2024": 780000000 },
                "30": { "2015": 520000000, "2020": 850000000, "2024": 1080000000 },
                "40": { "2015": 650000000, "2020": 1080000000, "2024": 1380000000 }
            },
            "ÏùÄÌèâÍµ¨": {
                "20": { "2015": 350000000, "2020": 580000000, "2024": 720000000 },
                "30": { "2015": 480000000, "2020": 800000000, "2024": 1000000000 },
                "40": { "2015": 600000000, "2020": 1000000000, "2024": 1280000000 }
            },
            "ÎÖ∏ÏõêÍµ¨": {
                "20": { "2015": 320000000, "2020": 520000000, "2024": 650000000 },
                "30": { "2015": 440000000, "2020": 720000000, "2024": 900000000 },
                "40": { "2015": 550000000, "2020": 900000000, "2024": 1150000000 }
            },
            "Í∞ïÎèôÍµ¨": {
                "20": { "2015": 380000000, "2020": 620000000, "2024": 780000000 },
                "30": { "2015": 520000000, "2020": 850000000, "2024": 1080000000 },
                "40": { "2015": 650000000, "2020": 1080000000, "2024": 1380000000 }
            },
            "Í∞ïÏÑúÍµ¨": {
                "20": { "2015": 360000000, "2020": 580000000, "2024": 720000000 },
                "30": { "2015": 490000000, "2020": 800000000, "2024": 1000000000 },
                "40": { "2015": 610000000, "2020": 1000000000, "2024": 1280000000 }
            },
            "ÏñëÏ≤úÍµ¨": {
                "20": { "2015": 340000000, "2020": 560000000, "2024": 700000000 },
                "30": { "2015": 470000000, "2020": 770000000, "2024": 960000000 },
                "40": { "2015": 590000000, "2020": 970000000, "2024": 1220000000 }
            },
            "ÏòÅÎì±Ìè¨Íµ¨": {
                "20": { "2015": 400000000, "2020": 650000000, "2024": 820000000 },
                "30": { "2015": 550000000, "2020": 900000000, "2024": 1120000000 },
                "40": { "2015": 690000000, "2020": 1130000000, "2024": 1420000000 }
            },
            "Í¥ÄÏïÖÍµ¨": {
                "20": { "2015": 360000000, "2020": 580000000, "2024": 720000000 },
                "30": { "2015": 490000000, "2020": 800000000, "2024": 1000000000 },
                "40": { "2015": 610000000, "2020": 1000000000, "2024": 1280000000 }
            },
            "Í∏àÏ≤úÍµ¨": {
                "20": { "2015": 320000000, "2020": 520000000, "2024": 650000000 },
                "30": { "2015": 440000000, "2020": 720000000, "2024": 900000000 },
                "40": { "2015": 550000000, "2020": 900000000, "2024": 1150000000 }
            },
            "Íµ¨Î°úÍµ¨": {
                "20": { "2015": 340000000, "2020": 560000000, "2024": 700000000 },
                "30": { "2015": 470000000, "2020": 770000000, "2024": 960000000 },
                "40": { "2015": 590000000, "2020": 970000000, "2024": 1220000000 }
            }
        };

        // Ïó∞ÎèÑ ÏòµÏÖò ÏÉùÏÑ±
        const yearSelect = document.getElementById('year');
        for (let year = 2015; year <= 2024; year++) {
            const option = document.createElement('option');
            option.value = year;
            option.textContent = year + 'ÎÖÑ';
            yearSelect.appendChild(option);
        }

        // ÏßÄÏó≠ ÏòµÏÖò ÏÉùÏÑ±
        const regionSelect = document.getElementById('region');
        Object.keys(priceData).sort().forEach(region => {
            const option = document.createElement('option');
            option.value = region;
            option.textContent = region;
            regionSelect.appendChild(option);
        });

        function formatPrice(price) {
            if (price >= 100000000) {
                return (price / 100000000).toFixed(1) + 'Ïñµ Ïõê';
            } else if (price >= 10000) {
                return (price / 10000).toFixed(0) + 'Îßå Ïõê';
            }
            return price.toLocaleString() + 'Ïõê';
        }

        function calculate() {
            const region = document.getElementById('region').value;
            const year = document.getElementById('year').value;
            const size = document.getElementById('size').value;

            if (!region || !year || !size) {
                alert('Î™®Îì† Ìï≠Î™©ÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî!');
                return;
            }

            const regionData = priceData[region];
            if (!regionData || !regionData[size] || !regionData[size][year]) {
                alert('Ìï¥Îãπ ÏßÄÏó≠/ÌèâÏàò/Ïó∞ÎèÑÏùò Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§.');
                return;
            }

            const pastPrice = regionData[size][year];
            const currentPrice = regionData[size]['2024'];
            const loss = currentPrice - pastPrice;

            // Í≤∞Í≥º ÌëúÏãú
            document.getElementById('resultTitle').textContent = `üè° ${region} ÏïÑÌååÌä∏ ${size}ÌèâÎåÄ`;
            document.getElementById('pastPrice').textContent = formatPrice(pastPrice);
            document.getElementById('currentPrice').textContent = formatPrice(currentPrice);
            document.getElementById('lossAmount').textContent = formatPrice(loss);

            // Î≥¥ÎÑàÏä§ Î∂ÑÏÑù
            const bonusItems = calculateBonusItems(loss);
            const bonusContainer = document.getElementById('bonusItems');
            bonusContainer.innerHTML = '';
            bonusItems.forEach(item => {
                const div = document.createElement('div');
                div.className = 'bonus-item';
                div.innerHTML = `<span>${item.name}</span><span><strong>${item.count}</strong></span>`;
                bonusContainer.appendChild(div);
            });

            document.getElementById('result').classList.add('show');
        }

        function calculateBonusItems(loss) {
            // Í∞Å Ìï≠Î™©Ïùò ÌèâÍ∑† Í∞ÄÍ≤©
            const items = [
                { name: 'üçï Î∞∞Îã¨ÏùåÏãù', price: 15000 },
                { name: '‚òï Ïπ¥ÌéòÎùºÎñº', price: 5000 },
                { name: 'üöï ÌÉùÏãú', price: 8000 },
                { name: 'üéß ÏóêÏñ¥Ìåü', price: 250000 },
                { name: 'üç∫ Îß•Ï£º', price: 5000 },
                { name: 'üçî ÌñÑÎ≤ÑÍ±∞', price: 12000 }
            ];

            return items.map(item => ({
                name: item.name,
                count: Math.floor(loss / item.price).toLocaleString() + (item.name.includes('ÏóêÏñ¥Ìåü') ? 'Í∞ú' : 'Í∞ú')
            }));
        }

        function copyLink() {
            const region = document.getElementById('region').value;
            const year = document.getElementById('year').value;
            const size = document.getElementById('size').value;
            
            const url = window.location.href.split('?')[0] + `?region=${region}&year=${year}&size=${size}`;
            
            navigator.clipboard.writeText(url).then(() => {
                alert('ÎßÅÌÅ¨Í∞Ä Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§!');
            }).catch(() => {
                // Ìè¥Î∞±
                const textarea = document.createElement('textarea');
                textarea.value = url;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                alert('ÎßÅÌÅ¨Í∞Ä Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§!');
            });
        }

        function shareKakao() {
            const region = document.getElementById('region').value;
            const year = document.getElementById('year').value;
            const size = document.getElementById('size').value;
            const loss = document.getElementById('lossAmount').textContent;
            
            const text = `üè† ÏßëÍ∞í Î™ª ÏÇ∞ Ï£Ñ Í≥ÑÏÇ∞Í∏∞\n\n${region} ${size}ÌèâÎåÄ\n${year}ÎÖÑ Í∏∞Ï§Ä\n\nÏïà ÏÇ∞ ÎåÄÍ∞Ä: ${loss}\n\nÎÇòÎèÑ Í≥ÑÏÇ∞Ìï¥Î≥¥Í∏∞ üëâ`;
            const url = window.location.href.split('?')[0] + `?region=${region}&year=${year}&size=${size}`;
            
            if (window.Kakao && window.Kakao.isInitialized()) {
                window.Kakao.Share.sendDefault({
                    objectType: 'feed',
                    content: {
                        title: 'ÏßëÍ∞í Î™ª ÏÇ∞ Ï£Ñ Í≥ÑÏÇ∞Í∏∞',
                        description: text,
                        imageUrl: window.location.origin + '/og-image.jpg',
                        link: {
                            mobileWebUrl: url,
                            webUrl: url
                        }
                    }
                });
            } else {
                // Ïπ¥Ïπ¥Ïò§ÌÜ°Ïù¥ ÏóÜÏúºÎ©¥ ÎßÅÌÅ¨ Î≥µÏÇ¨Î°ú ÎåÄÏ≤¥
                copyLink();
            }
        }

        function downloadImage() {
            const resultDiv = document.getElementById('result');
            const title = document.getElementById('resultTitle').textContent;
            const loss = document.getElementById('lossAmount').textContent;
            
            // html2canvas ÎùºÏù¥Î∏åÎü¨Î¶¨Í∞Ä ÌïÑÏöîÌïòÏßÄÎßå, Í∞ÑÎã®Ìïú Î∞©Î≤ïÏúºÎ°ú ÎåÄÏ≤¥
            alert('Ïù¥ÎØ∏ÏßÄ Ï†ÄÏû• Í∏∞Îä•ÏùÄ html2canvas ÎùºÏù¥Î∏åÎü¨Î¶¨ Ï∂îÍ∞ÄÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§.\nÌòÑÏû¨Îäî ÎßÅÌÅ¨ Î≥µÏÇ¨Î•º Ïù¥Ïö©Ìï¥Ï£ºÏÑ∏Ïöî!');
        }

        // URL ÌååÎùºÎØ∏ÌÑ∞Î°ú ÏûêÎèô Í≥ÑÏÇ∞
        window.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            const region = params.get('region');
            const year = params.get('year');
            const size = params.get('size');
            
            if (region && year && size) {
                document.getElementById('region').value = region;
                document.getElementById('year').value = year;
                document.getElementById('size').value = size;
                calculate();
            }
        });
    </script>
    <!-- Ïπ¥Ïπ¥Ïò§ Ïï†ÎìúÌïè Ïä§ÌÅ¨Î¶ΩÌä∏ -->
    <script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>
</body>
</html>
